# NOTE: All files are relative to the win32 subdir

#QCADIR=..\..\qca-2.0-beta1
#QCA_OPENSSLDIR=..\..\qca-openssl
ASPELLDIR=C:\aspell
QTDIR=C:\Qt\4.5.2\qt
#MINGWDIR=c:\MingW
OPENSSLDIR=C:\Openssl\bin
PORTAUDIODIR=C:\Portaudio

TARGET_DIR=jabbin

.PHONY: all
all:
	cd .. && $(MAKE)
	-mkdir $(TARGET_DIR)
	copy ..\src\release\jabbin.exe $(TARGET_DIR)
	rem copy $(QCADIR)\lib\qca2.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\QtCore4.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\QtGui4.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\QtNetwork4.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\QtXml4.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\Qt3Support4.dll $(TARGET_DIR)
	copy $(QTDIR)\bin\QtSql4.dll $(TARGET_DIR)
	rem copy $(MINGWDIR)\bin\mingwm10.dll $(TARGET_DIR)
	rem copy ..\src\tools\idle\win32\idleui.dll $(TARGET_DIR)
	xcopy /i /e /q /y ..\certs $(TARGET_DIR)\certs
	xcopy /i /e /q /y ..\iconsets $(TARGET_DIR)\iconsets
	xcopy /i /e /q /y ..\sound $(TARGET_DIR)\sound
	copy ..\COPYING $(TARGET_DIR)
	tod ..\README $(TARGET_DIR)\ReadMe.txt
	tod ..\INSTALL $(TARGET_DIR)\Install.txt
	rem -mkdir $(TARGET_DIR)\crypto
	rem copy $(QCA_OPENSSLDIR)\release\qca-openssl.dll $(TARGET_DIR)\crypto
	copy $(OPENSSLDIR)\libeay32.dll $(TARGET_DIR)
	copy $(OPENSSLDIR)\ssleay32.dll $(TARGET_DIR)
	copy $(PORTAUDIODIR)\build\msvc\Win32\Release\portaudio_x86.dll $(TARGET_DIR)
	rem -mkdir $(TARGET_DIR)\aspell
	rem copy $(ASPELLDIR)\bin\aspell-15.dll $(TARGET_DIR)
	rem xcopy /i /e /q /y $(ASPELLDIR)\dict $(TARGET_DIR)\aspell\dict
	rem xcopy /i /e /q /y $(ASPELLDIR)\data $(TARGET_DIR)\aspell\data
